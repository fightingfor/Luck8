# KL8 预测器

一个基于Flutter开发的快乐8彩票预测应用，使用多维度分析和机器学习算法进行号码预测。

## 项目结构

```
kl8_predictor_app/
├── lib/
│   ├── main.dart              # 应用入口
│   ├── models/                # 数据模型
│   │   ├── lottery_draw.dart  # 开奖记录模型
│   │   └── prediction_record.dart  # 预测记录模型
│   ├── pages/                 # 页面
│   │   ├── home_page.dart     # 主页
│   │   ├── prediction_page.dart # 预测页面
│   │   └── splash_screen.dart  # 启动页
│   ├── services/              # 服务层
│   │   ├── api_service.dart   # API服务
│   │   ├── database_service.dart # 数据库服务
│   │   └── kl8_predictor.dart # 预测算法核心
│   └── components/            # UI组件
│       └── prediction_card.dart # 预测结果卡片
├── pubspec.yaml               # 依赖配置
└── README.md                  # 项目说明
```

## 预测算法说明

### 1. 数据分析维度

#### 1.1 基础数据分析 (40%)
- **全量数据分析** (15%)
  - 分析所有历史数据
  - 使用时间衰减权重
  
- **最近数据分析** (15%)
  - 分析最近30天数据
  - 不使用时间权重
  
- **历史同期分析** (10%)
  - 分析同日期开奖记录
  - 分析同星期开奖记录

#### 1.2 趋势分析 (50%)
- **走势模式分析** (20%)
  - 热转冷号码识别 (完全权重)
  - 冷转热号码识别 (完全权重)
  - 稳定号码识别 (75%权重)
  - 波动号码识别 (50%权重)

- **热门号码分析** (20%)
  - 分析最近100期热门号码
  - 根据出现频率动态计算权重
  
- **重合号码分析** (10%)
  - 分析历史同期重合号码
  - 提高重合号码权重

#### 1.3 平衡性指标 (10%)
- **奇偶平衡** (10%)
  - 分析奇偶比例
  - 动态调整权重以保持平衡

### 2. 预测流程

1. **数据准备**
   - 加载历史开奖数据
   - 确保数据时效性（1小时更新）

2. **多维度分析**
   - 执行各维度分析
   - 计算综合得分
   - 添加随机波动(±5%)以增加多样性

3. **号码选择**
   - 使用轮盘赌选择法
   - 从前20个高分号码中选择
   - 根据得分设置选中概率

4. **验证机制**
   - 和值范围验证（均值±3个标准差）
   - 自适应验证阈值
   - 每20次尝试放宽验证条件（+0.5个标准差）
   - 最大尝试次数100次

### 3. 验证标准

1. **和值范围**
   - 计算最近50期和值的均值和标准差
   - 初始要求在均值±3个标准差范围内
   - 支持动态调整验证阈值

2. **容错机制**
   - 记录最后一次生成的号码
   - 在达到最大尝试次数后使用最后一组号码
   - 确保始终能生成预测结果

## 使用说明

1. **环境要求**
   - Flutter 3.0+
   - Dart 2.17+
   - SQLite 3+

2. **安装步骤**
   ```bash
   cd kl8_predictor_app
   flutter pub get
   flutter run
   ```

3. **主要功能**
   - 实时预测：生成下一期预测号码
   - 历史记录：查看历史预测记录
   - 中奖统计：统计预测准确率
   - 趋势分析：查看号码走势
   - 收藏功能：收藏特定预测组合

4. **注意事项**
   - 定期更新开奖数据
   - 预测结果仅供参考
   - 请理性购彩，注意风险

## 开发计划

1. **近期计划**
   - [ ] 优化预测算法
   - [ ] 添加更多数据分析维度
   - [ ] 改进UI/UX设计

2. **长期计划**
   - [ ] 引入机器学习模型
   - [ ] 添加更多彩种支持
   - [ ] 开发数据可视化功能

## 贡献指南

1. Fork 项目
2. 创建特性分支
3. 提交更改
4. 推送到分支
5. 创建 Pull Request

## 免责声明

本应用仅供学习和研究使用，不构成任何购彩建议。请遵守当地法律法规，理性购彩。
